# The name of the file equals the name of the profile

label: I18N_OPENXPKI_UI_PROFILE_USER_LABEL

validity:
    notafter: +01

style:
    00_user_basic_style:
        label: I18N_OPENXPKI_UI_PROFILE_BASIC_STYLE_LABEL
        description: I18N_OPENXPKI_UI_PROFILE_BASIC_STYLE_DESC
        ui:
            subject:
                - username
                - realname
                - department
                - email
            info:
                - comment

        subject:
            dn: CN=[% realname %]+UID=[% username %][% IF department %],DC=[% department %][% END %]
            san:
               email: "[% email.lower %]"

        metadata:
            requestor: "[% realname %]"
            email: "[% email %]"
            department: "[% department %]"

    05_advanced_style:
        label: I18N_OPENXPKI_UI_PROFILE_ADVANCED_STYLE_LABEL
        description: I18N_OPENXPKI_UI_PROFILE_ADVANCED_STYLE_DESC
        ui:
            subject:
                - realname
                - username
                - ou
                - o
                - dc
                - c
            san:
                - san_upn
            info:
                - comment
        subject:
            dn: CN=[% IF realname AND username %][% realname %]+UID=[% username %][% ELSE %][% IF realname %][% realname %][% END %][% IF username %][% username %][% END %][% END %][% IF OU %][% FOREACH entry = OU %],OU=[% entry %][% END %][% END %][% IF O %],O=[% O %][% END %][% FOREACH entry = DC %],DC=[% entry %][% END %][% IF C %],C=[% C %][% END %]
            # no san definitions here as items from ui.san are directly written to the SAN

# Profile extensions - set 0/1 as needed
# Also see sections defined in default.yaml
extensions:
    key_usage:
        critical: 1
        digital_signature: 1
        #non_repudiation:   1
        key_encipherment:  1

    extended_key_usage:
        critical: 0
        client_auth:      1
        #email_protection: 1
        # MS Smartcard Logon
        #1.3.6.1.4.1.311.20.2.2: 1
        # MS EFS Encryption
        #1.3.6.1.4.1.311.10.3.4: 1


# Define the input fields you used below here or in template.yaml
#template:


